[gd_scene load_steps=12 format=2]

[ext_resource path="res://PlayerFighter.tscn" type="PackedScene" id=1]
[ext_resource path="res://star_bg.gdshader" type="Shader" id=2]
[ext_resource path="res://alien.tscn" type="PackedScene" id=3]
[ext_resource path="res://stage.gdns" type="Script" id=5]
[ext_resource path="res://MeshInstance.gd" type="Script" id=6]

[sub_resource type="PlaneMesh" id=1]

[sub_resource type="ShaderMaterial" id=2]
shader = ExtResource( 2 )

[sub_resource type="SpatialMaterial" id=3]
albedo_color = Color( 0, 0, 0, 1 )

[sub_resource type="PlaneMesh" id=4]
material = SubResource( 3 )

[sub_resource type="ProceduralSky" id=5]
sky_top_color = Color( 0, 0, 0, 1 )
sky_horizon_color = Color( 0, 0, 0, 1 )

[sub_resource type="Environment" id=6]
background_mode = 2
background_sky = SubResource( 5 )

[node name="stage" type="Node"]
script = ExtResource( 5 )
alien_scene = ExtResource( 3 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( 1, 0, 0, 0, 0.381507, 0.924366, 0, -0.924366, 0.381507, 0, 15, -1.217 )

[node name="DirectionalLight" type="DirectionalLight" parent="."]
transform = Transform( 1, 0, 0, 0, 0.474565, 0.880221, 0, -0.880221, 0.474565, 0, 5.5094, 0 )
light_energy = 1.5

[node name="left_limit" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 10, -10, 0, 0 )

[node name="right_limit" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 10, 10, 0, 0 )

[node name="up_limit" type="StaticBody" parent="."]
transform = Transform( 10, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -16 )

[node name="down_limit" type="StaticBody" parent="."]
transform = Transform( 10, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1 )

[node name="PlayerRoot" parent="." instance=ExtResource( 1 )]
speed = 10.0

[node name="alien" parent="." instance=ExtResource( 3 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, -6.52388, -0.60868, -3.87827 )

[node name="alien2" parent="." instance=ExtResource( 3 )]
transform = Transform( -1, 0, -8.74228e-08, 0, 1, 0, 8.74228e-08, 0, -1, 2.09115, -0.546124, -10.9303 )

[node name="Background" type="MeshInstance" parent="."]
transform = Transform( 51, 0, 0, 0, 1, 0, 0, 0, 51, 0, -10, 0 )
mesh = SubResource( 1 )
material/0 = SubResource( 2 )
script = ExtResource( 6 )

[node name="Background2" type="MeshInstance" parent="."]
transform = Transform( 51, 0, 0, 0, 1, 0, 0, 0, 51, 0, -10, -100 )
mesh = SubResource( 1 )
material/0 = SubResource( 2 )
script = ExtResource( 6 )

[node name="Background3" type="MeshInstance" parent="."]
transform = Transform( 51, 0, 0, 0, 1, 0, 0, 0, 51, 0, -10, 100 )
mesh = SubResource( 1 )
material/0 = SubResource( 2 )
script = ExtResource( 6 )

[node name="alien_spawn_timer" type="Timer" parent="."]

[node name="alien_left_limit" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 10, -15, 0, 0 )

[node name="alien_right_limit" type="StaticBody" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 10, 15, 0, 0 )

[node name="alien_up_limit" type="StaticBody" parent="."]
transform = Transform( 10, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -30 )

[node name="alien_down_limit" type="StaticBody" parent="."]
transform = Transform( 10, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 6 )

[node name="BigBackGround" type="MeshInstance" parent="."]
transform = Transform( 1000, 0, 0, 0, 1, 0, 0, 0, 1000, 0, -20, 0 )
mesh = SubResource( 4 )
material/0 = null

[node name="BigBackGround2" type="MeshInstance" parent="."]
transform = Transform( 1000, 0, 0, 0, 1, 0, 0, 0, 1000, 0, -20, 0 )
mesh = SubResource( 4 )
material/0 = null

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 6 )

[connection signal="speed_up" from="." to="Background" method="_on_stage_speed_up"]
[connection signal="speed_up" from="." to="Background2" method="_on_stage_speed_up"]
[connection signal="speed_up" from="." to="Background3" method="_on_stage_speed_up"]
[connection signal="timeout" from="alien_spawn_timer" to="." method="spawn_alien"]
